.\" Automatically generated by Pod::Man 2.22 (Pod::Simple 3.13)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.ie \nF \{\
.    de IX
.    tm Index:\\$1\t\\n%\t"\\$2"
..
.    nr % 0
.    rr F
.\}
.el \{\
.    de IX
..
.\}
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "CHECK_OPENMANAGE 8"
.TH CHECK_OPENMANAGE 8 "2011-08-26" "check_openmanage 3.7.3" "Nagios plugin"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
check_openmanage \- Nagios plugin for checking the hardware status on
                   Dell servers running OpenManage
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
check_openmanage [\fI\s-1OPTION\s0\fR]...
.PP
check_openmanage \-H \fIhostname\fR [\fI\s-1OPTION\s0\fR]...
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
check_openmanage is a plugin for Nagios which checks the hardware
health of Dell servers running OpenManage Server Administrator
(\s-1OMSA\s0). The plugin checks the health of the storage subsystem, power
supplies, memory modules, temperature probes etc., and gives an alert
if any of the components are faulty or operate outside normal
parameters.
.PP
check_openmanage is designed to be used by either locally (using \s-1NRPE\s0
or similar) or remotely (using \s-1SNMP\s0). In either mode, the output is
(nearly) the same. Note that checking the alert log is not supported
in \s-1SNMP\s0 mode.
.SH "GENERAL OPTIONS"
.IX Header "GENERAL OPTIONS"
.IP "\-f, \-\-config \fI\s-1FILE\s0\fR" 4
.IX Item "-f, --config FILE"
Specify a configuration file. For reference on the config file syntax
and options, consult the \fIcheck_openmanage.conf\fR\|(5) manual page.
.IP "\-t, \-\-timeout \fI\s-1SECONDS\s0\fR" 4
.IX Item "-t, --timeout SECONDS"
The number of seconds after which the plugin will abort. Default
timeout is 30 seconds if the option is not present.
.IP "\-p, \-\-perfdata [\fImultline\fR or \fIminimal\fR]" 4
.IX Item "-p, --perfdata [multline or minimal]"
Collect performance data. Performance data collected include
temperatures (in Celsius) and fan speeds (in rpm). On systems that
support it, power consumption is also collected (in Watts). This
option takes one of two arguments, both of which are optional.
.Sp
If the argument \f(CW\*(C`minimal\*(C'\fR is specified, the plugin will use shorter
names for the performance data labels, e.g. \f(CW\*(C`t0\*(C'\fR instead of
\&\f(CW\*(C`temp_0_system_board_ambient\*(C'\fR. This can be used as a workaround in
cases where the plugin output needs shortening, for example if the
1024 character limit of \s-1NRPE\s0 is reached.
.Sp
If given the argument \f(CW\*(C`multiline\*(C'\fR, the plugin will output the
performance data on multiple lines, for Nagios 3.x and above.
.IP "\-\-legacy\-perfdata" 4
.IX Item "--legacy-perfdata"
With version 3.7.0, performance data output changed. The new format is
not compatible with the old format. Users who wish to postpone
switching to the new performance data \s-1API\s0 may set this option.
.IP "\-w, \-\-warning \fI\s-1STRING\s0\fR or \fI\s-1FILE\s0\fR" 4
.IX Item "-w, --warning STRING or FILE"
Override the machine-default temperature warning thresholds. Syntax is
\&\f(CW\*(C`id1=max[/min],id2=max[/min],...\*(C'\fR. The following example sets warning
limits to max 50C for probe 0, and max 45C and min 10C for probe 1:
.Sp
check_openmanage \-w 0=50,1=45/10
.Sp
The minimum limit can be omitted, if desired. Most often, you are only
interested in setting the maximum thresholds.
.Sp
This parameter can be either a string with the limits, or a file
containing the limits string. The option can be specified multiple
times.
.Sp
\&\s-1NOTE:\s0 This option should only be used to narrow the field of \s-1OK\s0
temperatures wrt. the \s-1OMSA\s0 defaults. To expand the field of \s-1OK\s0
temperatures, increase the \s-1OMSA\s0 thresholds. See the plugin web page
for more information.
.IP "\-c, \-\-critical \fI\s-1STRING\s0\fR or \fI\s-1FILE\s0\fR" 4
.IX Item "-c, --critical STRING or FILE"
Override the machine-default temperature critical thresholds. Syntax
and behaviour is the same as for warning thresholds described above.
.IP "\-F, \-\-fahrenheit" 4
.IX Item "-F, --fahrenheit"
Set Fahrenheit as unit for all temperatures. This option will override
the \f(CW\*(C`\-\-tempunit\*(C'\fR option, if used simultaneously.
.IP "\-\-tempunit \fI\s-1CHAR\s0\fR" 4
.IX Item "--tempunit CHAR"
Set temperature unit. Legal values are \f(CW\*(C`F\*(C'\fR for Fahrenheit, \f(CW\*(C`C\*(C'\fR for
Celsius, \f(CW\*(C`K\*(C'\fR for Kelvin and \f(CW\*(C`R\*(C'\fR for Rankine.
.IP "\-o, \-\-ok\-info \fI\s-1NUMBER\s0\fR" 4
.IX Item "-o, --ok-info NUMBER"
This option lets you define how much output you want the plugin to
give when everything is \s-1OK\s0, i.e. the verbosity level. The default
value is 0 (one line of output). The output levels are cumulative.
.RS 4
.IP "\fB0\fR" 4
.IX Item "0"
\&\- Only one line (default)
.IP "\fB1\fR" 4
.IX Item "1"
\&\- \s-1BIOS\s0 and firmware info on a separate line
.IP "\fB2\fR" 4
.IX Item "2"
\&\- Storage controller and enclosure info on separate lines
.IP "\fB3\fR" 4
.IX Item "3"
\&\- \s-1OMSA\s0 version on separate line
.RE
.RS 4
.Sp
The reason that \s-1OMSA\s0 version is separated from the rest is that
finding it requires running a really slow omreport command, when the
plugin is run locally via \s-1NRPE\s0.
.RE
.IP "\-B, \-\-show\-blacklist" 4
.IX Item "-B, --show-blacklist"
If used together with blacklisting, this option will make the plugin
output all blacklistings that are being used. The output will have the
correct blacklisting syntax, and will make it easy to maintain control
over which blacklistings that are used for each server, as any
blacklistings can be viewed from Nagios.
.Sp
When blacklisting is not used, this option has no effect.
.IP "\-\-omreport \fI\s-1OMREPORT\s0 \s-1PATH\s0\fR" 4
.IX Item "--omreport OMREPORT PATH"
Specify full path to omreport, if it is not installed in any of the
regular places. Usually this option is only needed on Windows, if
omreport is not installed on the C: drive.
.IP "\-i, \-\-info" 4
.IX Item "-i, --info"
Prefix any alerts with the service tag.
.IP "\-e, \-\-extinfo" 4
.IX Item "-e, --extinfo"
Display a short summary of system information (model and service tag)
in case of an alert.
.IP "\-I, \-\-htmlinfo [\fI\s-1CODE\s0\fR]" 4
.IX Item "-I, --htmlinfo [CODE]"
Using this option will make the servicetag and model name into
clickable \s-1HTML\s0 links in the output. The model name link will point to
the official Dell documentation for that model, while the servicetag
link will point to a website containing support info for that
particular server.
.Sp
This option takes an optional argument, which should be your country
code or \f(CW\*(C`me\*(C'\fR for the middle east. If the country code is omitted the
servicetag link will still work, but it will not be speficic for your
country or area. Example for Germany:
.Sp
.Vb 1
\&  check_openmanage \-\-htmlinfo de
.Ve
.Sp
If this option is used together with either the \fI\-\-extinfo\fR or
\&\fI\-\-info\fR options, it is particularly useful. Only the most common
country codes is supported at this time.
.IP "\-\-postmsg \fI\s-1STRING\s0\fR or \fI\s-1FILE\s0\fR" 4
.IX Item "--postmsg STRING or FILE"
User specified post message. Useful for displaying arbitrary or
various system information at the end of alerts. The argument is
either a string with the message, or a file containing that
string. You can control the format with the following interpreted
sequences:
.RS 4
.ie n .IP "\fB\fB%m\fB\fR" 4
.el .IP "\fB\f(CB%m\fB\fR" 4
.IX Item "%m"
System model
.ie n .IP "\fB\fB%s\fB\fR" 4
.el .IP "\fB\f(CB%s\fB\fR" 4
.IX Item "%s"
Service tag
.ie n .IP "\fB\fB%b\fB\fR" 4
.el .IP "\fB\f(CB%b\fB\fR" 4
.IX Item "%b"
\&\s-1BIOS\s0 version
.ie n .IP "\fB\fB%d\fB\fR" 4
.el .IP "\fB\f(CB%d\fB\fR" 4
.IX Item "%d"
\&\s-1BIOS\s0 release date
.ie n .IP "\fB\fB%o\fB\fR" 4
.el .IP "\fB\f(CB%o\fB\fR" 4
.IX Item "%o"
Operating system name
.ie n .IP "\fB\fB%r\fB\fR" 4
.el .IP "\fB\f(CB%r\fB\fR" 4
.IX Item "%r"
Operating system release
.ie n .IP "\fB\fB%p\fB\fR" 4
.el .IP "\fB\f(CB%p\fB\fR" 4
.IX Item "%p"
Number of physical drives
.ie n .IP "\fB\fB%l\fB\fR" 4
.el .IP "\fB\f(CB%l\fB\fR" 4
.IX Item "%l"
Number of logical drives
.ie n .IP "\fB\fB%n\fB\fR" 4
.el .IP "\fB\f(CB%n\fB\fR" 4
.IX Item "%n"
Line break. Will be a regular line break if run from a \s-1TTY\s0, else an
\&\s-1HTML\s0 line break.
.IP "\fB%%\fR" 4
.IX Item "%%"
A literal \f(CW\*(C`%\*(C'\fR
.RE
.RS 4
.RE
.IP "\-s, \-\-state" 4
.IX Item "-s, --state"
Prefix each alert with its corresponding service state (i.e. warning,
critical etc.). This is useful in case of several alerts from the same
monitored system.
.IP "\-S, \-\-short\-state" 4
.IX Item "-S, --short-state"
Same as the \fB\-\-state\fR option above, except that the state is
abbreviated to a single letter (W=warning, C=critical etc.).
.IP "\-\-hide\-servicetag" 4
.IX Item "--hide-servicetag"
This option will replace the servicetag (serial number) in the output
with \f(CW\*(C`XXXXXXX\*(C'\fR. Use this option to suppress or censor the servicetag
in the plugin output.
.IP "\-\-linebreak \fI\s-1STRING\s0\fR" 4
.IX Item "--linebreak STRING"
check_openmanage will sometimes report more than one line, e.g. if
there are several alerts. If the script has a \s-1TTY\s0, it will use regular
linebreaks. If not (which is the case with \s-1NRPE\s0) it will use \s-1HTML\s0
linebreaks. Sometimes it can be useful to control what the plugin uses
as a line separator, and this option provides that control.
.Sp
The argument is the exact string to be used as the line
separator. There are two exceptions, i.e. two keywords that translates
to the following:
.RS 4
.IP "\fB\s-1REG\s0\fR" 4
.IX Item "REG"
Regular linebreaks, i.e. \*(L"\en\*(R".
.IP "\fB\s-1HTML\s0\fR" 4
.IX Item "HTML"
\&\s-1HTML\s0 linebreaks, i.e. \*(L"<br/>\*(R".
.RE
.RS 4
.Sp
This is a rather special option that is normally not needed. The
default behaviour should be sufficient for most users.
.RE
.IP "\-d, \-\-debug" 4
.IX Item "-d, --debug"
Debug output. Will report status on everything, even if status is
ok. Blacklisted or unchecked components are ignored (i.e. no output).
.Sp
\&\s-1NOTE:\s0 This option is intended for diagnostics and debugging purposes
only. Do not use this option from within Nagios, i.e. in the Nagios
config.
.IP "\-h, \-\-help" 4
.IX Item "-h, --help"
Display help text.
.IP "\-V, \-\-version" 4
.IX Item "-V, --version"
Display version info.
.SH "SNMP OPTIONS"
.IX Header "SNMP OPTIONS"
.IP "\-H, \-\-hostname \fI\s-1HOSTNAME\s0\fR" 4
.IX Item "-H, --hostname HOSTNAME"
The transport address of the destination \s-1SNMP\s0 device. Using this
option triggers \s-1SNMP\s0 mode.
.IP "\-P, \-\-protocol \fI\s-1PROTOCOL\s0\fR" 4
.IX Item "-P, --protocol PROTOCOL"
\&\s-1SNMP\s0 protocol version. This option is optional and expects a digit
(i.e.  \f(CW1\fR, \f(CW2\fR or \f(CW3\fR) to define the \s-1SNMP\s0 version. The default is
\&\f(CW2\fR, i.e. \s-1SNMP\s0 version 2c.
.IP "\-C, \-\-community \fI\s-1COMMUNITY\s0\fR" 4
.IX Item "-C, --community COMMUNITY"
This option expects a string that is to be used as the \s-1SNMP\s0 community
name when using \s-1SNMP\s0 version 1 or 2c.  By default the community name
is set to \f(CW\*(C`public\*(C'\fR if the option is not present.
.IP "\-\-port \fI\s-1PORT\s0\fR" 4
.IX Item "--port PORT"
\&\s-1SNMP\s0 port of the remote (monitored) system. Defaults to the well-known
\&\s-1SNMP\s0 port 161.
.IP "\-6, \-\-ipv6" 4
.IX Item "-6, --ipv6"
This option will cause the plugin to use IPv6. The default is IPv4 if
the option is not present.
.IP "\-\-tcp" 4
.IX Item "--tcp"
This option will cause the plugin to use \s-1TCP\s0 as transport
protocol. The default is \s-1UDP\s0 if the option is not present.
.IP "\-U, \-\-username \fI\s-1SECURITYNAME\s0\fR" 4
.IX Item "-U, --username SECURITYNAME"
[SNMPv3] The User-based Security Model (\s-1USM\s0) used by SNMPv3 requires
that a securityName be specified. This option is required when using
\&\s-1SNMP\s0 version 3, and expects a string 1 to 32 octets in lenght.
.IP "\-\-authpassword \fI\s-1PASSWORD\s0\fR, \-\-authkey \fI\s-1KEY\s0\fR" 4
.IX Item "--authpassword PASSWORD, --authkey KEY"
[SNMPv3] By default a securityLevel of \f(CW\*(C`noAuthNoPriv\*(C'\fR is assumed.  If
the \-\-authpassword option is specified, the securityLevel becomes
\&\f(CW\*(C`authNoPriv\*(C'\fR.  The \-\-authpassword option expects a string which is at
least 1 octet in length as argument.
.Sp
Optionally, instead of the \-\-authpassword option, the \-\-authkey option
can be used so that a plain text password does not have to be
specified in a script.  The \-\-authkey option expects a hexadecimal
string produced by localizing the password with the
authoritativeEngineID for the specific destination device.  The
\&\f(CW\*(C`snmpkey\*(C'\fR utility included with the Net::SNMP distribution can be
used to create the hexadecimal string (see snmpkey).
.IP "\-\-authprotocol \fI\s-1ALGORITHM\s0\fR" 4
.IX Item "--authprotocol ALGORITHM"
[SNMPv3] Two different hash algorithms are defined by SNMPv3 which can
be used by the Security Model for authentication. These algorithms are
\&\s-1HMAC\-MD5\-96\s0 \f(CW\*(C`MD5\*(C'\fR (\s-1RFC\s0 1321) and \s-1HMAC\-SHA\-96\s0 \f(CW\*(C`SHA\-1\*(C'\fR (\s-1NIST\s0 \s-1FIPS\s0 \s-1PUB\s0
180\-1). The default algorithm used by the plugin is \s-1HMAC\-MD5\-96\s0.  This
behavior can be changed by using this option. The option expects
either the string \f(CW\*(C`md5\*(C'\fR or \f(CW\*(C`sha\*(C'\fR to be passed as argument to modify
the hash algorithm.
.IP "\-\-privpassword \fI\s-1PASSWORD\s0\fR, \-\-privkey \fI\s-1KEY\s0\fR" 4
.IX Item "--privpassword PASSWORD, --privkey KEY"
[SNMPv3] By specifying the options \-\-privkey or \-\-privpassword, the
securityLevel associated with the object becomes
\&\f(CW\*(C`authPriv\*(C'\fR. According to SNMPv3, privacy requires the use of
authentication. Therefore, if either of these two options are present
and the \-\-authkey or \-\-authpassword arguments are missing, the
creation of the object fails.  The \-\-privkey and \-\-privpassword
options expect the same input as the \-\-authkey and \-\-authpassword
options respectively.
.IP "\-\-privprotocol \fI\s-1ALGORITHM\s0\fR" 4
.IX Item "--privprotocol ALGORITHM"
[SNMPv3] The User-based Security Model described in \s-1RFC\s0 3414 defines a
single encryption protocol to be used for privacy.  This protocol,
CBC-DES \f(CW\*(C`DES\*(C'\fR (\s-1NIST\s0 \s-1FIPS\s0 \s-1PUB\s0 46\-1), is used by default or if the
string \f(CW\*(C`des\*(C'\fR is passed to the \-\-privprotocol option. The Net::SNMP
module also supports \s-1RFC\s0 3826 which describes the use of
\&\s-1CFB128\-AES\-128\s0 \f(CW\*(C`AES\*(C'\fR (\s-1NIST\s0 \s-1FIPS\s0 \s-1PUB\s0 197) in the \s-1USM\s0.  The \s-1AES\s0
encryption protocol can be selected by passing \f(CW\*(C`aes\*(C'\fR or \f(CW\*(C`aes128\*(C'\fR to
the \-\-privprotocol option.
.Sp
One of the following arguments are required: des, aes, aes128, 3des,
3desde
.IP "\-\-use\-get_table" 4
.IX Item "--use-get_table"
This option exists as a workaround when using check_openmanage with
SNMPv3 on Windows with net-snmp. Using this option will make
check_openmanage use the Net::SNMP function \fIget_table()\fR instead of
\&\fIget_entries()\fR while fetching values via \s-1SNMP\s0. The latter is faster and
is the default.
.SH "BLACKLISTING"
.IX Header "BLACKLISTING"
.IP "\-b, \-\-blacklist \fI\s-1STRING\s0\fR or \fI\s-1FILE\s0\fR" 4
.IX Item "-b, --blacklist STRING or FILE"
Blacklist missing and/or failed components, if you do not plan to fix
them. The parameter is either the blacklist string, or a file (that
may or may not exist) containing the string. The blacklist string
contains component names with component IDs separated by slash
(/). Blacklisted components are left unchecked.
.Sp
\&\s-1TIP:\s0 Use the option \f(CW\*(C`\-d\*(C'\fR (or \f(CW\*(C`\-\-debug\*(C'\fR) to get the blacklist \s-1ID\s0 for
devices. The \s-1ID\s0 is listed in a separate column in the debug output.
.Sp
\&\s-1NOTE:\s0 If blacklisting is in effect, the global health of the system is
not checked.
.RS 4
.IP "\fBSyntax:\fR" 9
.IX Item "Syntax:"
component1=id1[,id2,...]/component2=id1[,id2,...]/...
.Sp
The \s-1ID\s0 part can also be \f(CW\*(C`all\*(C'\fR, in which all components of that type
is blacklisted.
.IP "\fBExample:\fR" 9
.IX Item "Example:"
check_openmanage \-b ps=0/fan=3,5/pdisk=1:0:0:1/ctrl_driver=all
.RE
.RS 4
.Sp
In the example we blacklist powersupply 0, fans 3 and 5, physical disk
1:0:0:1, and warnings about out-of-date drivers for all
controllers. Legal component names include:
.IP "\fBctrl\fR" 8
.IX Item "ctrl"
Storage controller. Note that if a controller is blacklisted, all
components on that controller (such as physical and logical drives)
are blacklisted as well.
.IP "\fBctrl_fw\fR" 8
.IX Item "ctrl_fw"
Suppress the special warning message about old controller
firmware. Use this if you can not or will not upgrade the firmware.
.IP "\fBctrl_driver\fR" 8
.IX Item "ctrl_driver"
Suppress the special warning message about old controller driver.
Particularly useful on systems where you can not upgrade the driver.
.IP "\fBctrl_stdr\fR" 8
.IX Item "ctrl_stdr"
Suppress the special warning message about old Storport driver on
Windows.
.IP "\fBctrl_pdisk\fR" 8
.IX Item "ctrl_pdisk"
This blacklisting keyword exists as a possible workaround for physical
drives with bad firmware which makes Openmanage choke. It takes the
controller number as argument. Use this option to blacklist all
physical drives on a specific controller. This blacklisting keyword is
only available in local mode, i.e. not with \s-1SNMP\s0.
.IP "\fBpdisk\fR" 8
.IX Item "pdisk"
Physical disk.
.IP "\fBpdisk_cert\fR" 8
.IX Item "pdisk_cert"
Suppress warning message about non-certified physical disk.
.IP "\fBpdisk_foreign\fR" 8
.IX Item "pdisk_foreign"
Suppress warning message about foreign physical disk.
.IP "\fBvdisk\fR" 8
.IX Item "vdisk"
Logical drive (virtual disk)
.IP "\fBbat\fR" 8
.IX Item "bat"
Controller cache battery
.IP "\fBbat_charge\fR" 8
.IX Item "bat_charge"
Ignore warnings related to the controller cache battery charging
cycle, which happens approximately every 40 days on Dell servers. Note
that using this blacklist keyword makes check_openmanage ignore
non-critical cache battery errors.
.IP "\fBconn\fR" 8
.IX Item "conn"
Connector (channel)
.IP "\fBencl\fR" 8
.IX Item "encl"
Enclosure
.IP "\fBencl_fan\fR" 8
.IX Item "encl_fan"
Enclosure fan
.IP "\fBencl_ps\fR" 8
.IX Item "encl_ps"
Enclosure power supply
.IP "\fBencl_temp\fR" 8
.IX Item "encl_temp"
Enclosure temperature probe
.IP "\fBencl_emm\fR" 8
.IX Item "encl_emm"
Enclosure management module (\s-1EMM\s0)
.IP "\fBdimm\fR" 8
.IX Item "dimm"
Memory module
.IP "\fBfan\fR" 8
.IX Item "fan"
Fan
.IP "\fBps\fR" 8
.IX Item "ps"
Powersupply
.IP "\fBtemp\fR" 8
.IX Item "temp"
Temperature sensor
.IP "\fBcpu\fR" 8
.IX Item "cpu"
Processor (\s-1CPU\s0)
.IP "\fBvolt\fR" 8
.IX Item "volt"
Voltage probe
.IP "\fBbp\fR" 8
.IX Item "bp"
System battery
.IP "\fBamp\fR" 8
.IX Item "amp"
Amperage probe (power consumption monitoring)
.IP "\fBintr\fR" 8
.IX Item "intr"
Intrusion sensor
.IP "\fBsd\fR" 8
.IX Item "sd"
\&\s-1SD\s0 card
.RE
.RS 4
.RE
.SH "CHECK CONTROL"
.IX Header "CHECK CONTROL"
.IP "\-\-no\-storage" 4
.IX Item "--no-storage"
Turn off storage checking. This is an alias for \f(CW\*(C`\-\-check storage=0\*(C'\fR.
.IP "\-\-only \fI\s-1KEYWORD\s0\fR" 4
.IX Item "--only KEYWORD"
This option can be specifed once and expects a keyword. The different
keywords and the behaviour of check_openmanage is described below.
.RS 4
.IP "\fBcritical\fR" 4
.IX Item "critical"
Print only critical alerts. With this option any warning alerts are
suppressed.
.IP "\fBwarning\fR" 4
.IX Item "warning"
Print only warning alerts. With this option any critical alerts are
suppressed.
.IP "\fBchassis\fR" 4
.IX Item "chassis"
Check all chassis components and nothing else.
.IP "\fBstorage\fR" 4
.IX Item "storage"
Only check storage
.IP "\fBmemory\fR" 4
.IX Item "memory"
Only check memory modules
.IP "\fBfans\fR" 4
.IX Item "fans"
Only check fans
.IP "\fBpower\fR" 4
.IX Item "power"
Only check power supplies
.IP "\fBtemp\fR" 4
.IX Item "temp"
Only check temperatures
.IP "\fBcpu\fR" 4
.IX Item "cpu"
Only check processors
.IP "\fBvoltage\fR" 4
.IX Item "voltage"
Only check voltage probes
.IP "\fBbatteries\fR" 4
.IX Item "batteries"
Only check batteries
.IP "\fBamperage\fR" 4
.IX Item "amperage"
Only check power usage
.IP "\fBintrusion\fR" 4
.IX Item "intrusion"
Only check chassis intrusion
.IP "\fBsdcard\fR" 4
.IX Item "sdcard"
Only check \s-1SD\s0 cards
.IP "\fBesmhealth\fR" 4
.IX Item "esmhealth"
Only check \s-1ESM\s0 log overall health, i.e. fill grade
.IP "\fBesmlog\fR" 4
.IX Item "esmlog"
Only check the event log (\s-1ESM\s0) content
.IP "\fBalertlog\fR" 4
.IX Item "alertlog"
Only check the alert log content
.RE
.RS 4
.RE
.IP "\-\-check \fI\s-1STRING\s0\fR or \fI\s-1FILE\s0\fR" 4
.IX Item "--check STRING or FILE"
This parameter allows you to adjust which components that should be
checked at all. This is a rougher approach than blacklisting, which
require that you specify component id or index. The parameter should
be either a string containing the adjustments, or a file containing
the string. No errors are raised if the file does not exist.
.Sp
Note: This option is ignored with alternate basenames.
.RS 4
.IP "\fBExample:\fR" 9
.IX Item "Example:"
check_openmanage \-\-check storage=0,intrusion=1
.RE
.RS 4
.Sp
Legal values are described below, along with the default value.
.IP "\fBstorage\fR" 4
.IX Item "storage"
Check storage subsystem (controllers, disks etc.). Default: \s-1ON\s0
.IP "\fBmemory\fR" 4
.IX Item "memory"
Check memory (dimms). Default: \s-1ON\s0
.IP "\fBfans\fR" 4
.IX Item "fans"
Check chassis fans. Default: \s-1ON\s0
.IP "\fBpower\fR" 4
.IX Item "power"
Check power supplies. Default: \s-1ON\s0
.IP "\fBtemp\fR" 4
.IX Item "temp"
Check temperature sensors. Default: \s-1ON\s0
.IP "\fBcpu\fR" 4
.IX Item "cpu"
Check CPUs. Default: \s-1ON\s0
.IP "\fBvoltage\fR" 4
.IX Item "voltage"
Check voltage sensors. Default: \s-1ON\s0
.IP "\fBbatteries\fR" 4
.IX Item "batteries"
Check system batteries. Default: \s-1ON\s0
.IP "\fBamperage\fR" 4
.IX Item "amperage"
Check amperage probes. Default: \s-1ON\s0
.IP "\fBintrusion\fR" 4
.IX Item "intrusion"
Check chassis intrusion. Default: \s-1ON\s0
.IP "\fBsdcard\fR" 4
.IX Item "sdcard"
Check \s-1SD\s0 cards. Default: \s-1ON\s0
.IP "\fBesmhealth\fR" 4
.IX Item "esmhealth"
Check the \s-1ESM\s0 log health, i.e. fill grade. Default: \s-1ON\s0
.IP "\fBesmlog\fR" 4
.IX Item "esmlog"
Check the \s-1ESM\s0 log content. Default: \s-1OFF\s0
.IP "\fBalertlog\fR" 4
.IX Item "alertlog"
Check the alert log content. Default: \s-1OFF\s0
.RE
.RS 4
.RE
.SH "DIAGNOSTICS"
.IX Header "DIAGNOSTICS"
The option \f(CW\*(C`\-\-debug\*(C'\fR (or \f(CW\*(C`\-d\*(C'\fR) can be specified to display all
monitored components.
.SH "DEPENDENCIES"
.IX Header "DEPENDENCIES"
If \s-1SNMP\s0 is requested, the perl module Net::SNMP is
required. Otherwise, only a regular perl distribution is required to
run the script. On the target (monitored) system, Dell Openmanage
Server Administrator (\s-1OMSA\s0) must be installed and running.
.SH "EXIT STATUS"
.IX Header "EXIT STATUS"
If no errors are discovered, a value of 0 (\s-1OK\s0) is returned. An exit
value of 1 (\s-1WARNING\s0) signifies one or more non-critical errors, while
2 (\s-1CRITICAL\s0) signifies one or more critical errors.
.PP
The exit value 3 (\s-1UNKNOWN\s0) is reserved for errors within the script,
or errors getting values from Dell \s-1OMSA\s0.
.SH "AUTHOR"
.IX Header "AUTHOR"
Written by Trond H. Amundsen <t.h.amundsen@usit.uio.no>
.SH "BUGS AND LIMITATIONS"
.IX Header "BUGS AND LIMITATIONS"
Storage info is not collected or checked on very old PowerEdge models
and/or old \s-1OMSA\s0 versions, due to limitations in \s-1OMSA\s0. The overall
support on those models/versions by this plugin is not well tested.
.SH "INCOMPATIBILITIES"
.IX Header "INCOMPATIBILITIES"
The plugin should work with the Nagios embedded perl interpreter
(ePN). However, this is not thoroughly tested.
.SH "REPORTING BUGS"
.IX Header "REPORTING BUGS"
Report bugs to <t.h.amundsen@usit.uio.no>
.SH "LICENSE AND COPYRIGHT"
.IX Header "LICENSE AND COPYRIGHT"
This program is free software: you can redistribute it and/or modify
it under the terms of the \s-1GNU\s0 General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at
your option) any later version.
.PP
This program is distributed in the hope that it will be useful, but
\&\s-1WITHOUT\s0 \s-1ANY\s0 \s-1WARRANTY\s0; without even the implied warranty of
\&\s-1MERCHANTABILITY\s0 or \s-1FITNESS\s0 \s-1FOR\s0 A \s-1PARTICULAR\s0 \s-1PURPOSE\s0.  See the \s-1GNU\s0
General Public License for more details.
.PP
You should have received a copy of the \s-1GNU\s0 General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIcheck_openmanage.conf\fR\|(5)
<http://folk.uio.no/trondham/software/check_openmanage.html>
